{
  "name": "astro-components",
  "type": "module",
  "version": "0.0.1",
  "scripts": {
    "get_report": "git log --since='2024-04-01' --until='2024-10-31' --pretty=format:'%h\t%ad\t%an\t%s' --first-parent --date=format:'%Y-%m-%d %H:%M:%S' > commit_report.csv",
    "CarFeedProcessorCSV": "CSV_URL=$(grep '^CSV_URL=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && curl $CSV_URL -o data.csv && python3 .github/scripts/CarFeedProcessorCSV.py",
    "getAirStorage": "sh ./.github/scripts/sh/getAirStorage.sh",
    "getDealerPrice": "sh ./.github/scripts/sh/getDealerData.sh",
    "getOneXML_data_cars_car": "export XML_URL=$(grep '^XML_URL_DATA_CARS_CAR=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py",
    "getOneXML_Ads_Ad": "export XML_URL=$(grep '^AVITO_XML_URL=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py",
    "getOneXML_Ads_Ad_friend": "export XML_URL=$(grep '^AVITO_FRIEND_XML_URL=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py --output=\"cars_friend.xml\"",
    "getOneXML_vehicles_vehicle": "export XML_URL=$(grep '^XML_URL_VEHICLES_VEHICLE=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py",
    "getOneXML_carcopy": "export XML_URL=$(grep '^XML_URL_CARCOPY=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py",
    "getOneXML_maxposter": "export XML_URL=$(grep '^XML_URL_MAXPOSTER=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/getOneXML.py",
    "replacePlaceholdersInJson": "node .github/scripts/replacePlaceholdersInJson.js",
    "update_cars_autoru": "python3 .github/scripts/update_cars_air_storage.py --source_type autoru  --output \"./public/autoru.xml\"",
    "update_cars_avito": "export REPO_NAME=\"test.com\" && export XML_URL=$(grep '^AVITO_XML_URL=' .env | awk -F'=' '{print substr($0, index($0,$2))}' | sed 's/^\"//; s/\"$//') && python3 .github/scripts/update_cars_air_storage.py --source_type avito",
    "update_cars_carcopy": "python3 .github/scripts/update_cars.py --source_type carcopy --image_tag=\"photo\" --description_tag=\"comment\" --skip_thumbs",
    "update_cars_maxposter": "python3 .github/scripts/update_cars.py --source_type maxposter --image_tag=\"photo\" --skip_thumbs",
    "update_cars_vehicles": "python3 .github/scripts/update_cars.py --source_type vehicles --image_tag=\"photo\" --skip_thumbs",
    "update_cars_data_cars_car": "python3 .github/scripts/update_cars.py --source_type data_cars --skip_thumbs",
    "test_Ads_Ad": "pnpm getOneXML_Ads_Ad && python3 .github/scripts/update_cars_air_storage.py --source_type avito --output_path=\"./public/avito.xml\"",
    "test_Ads_Ad_friend": "pnpm getOneXML_Ads_Ad && python3 .github/scripts/update_cars_air_storage.py --source_type avito --output_path=\"./public/avito_dc.xml\" && pnpm getOneXML_Ads_Ad_friend && python3 .github/scripts/update_cars_air_storage.py --source_type avito --input_file cars_friend.xml --output_path=\"./public/avito_friend.xml\" && export XML_URL=\"./public/avito_dc.xml ./public/avito_friend.xml\" && python3 .github/scripts/getOneXML.py --output_path=\"./public/avito.xml\"",
    "test_data_cars_car": "pnpm getOneXML_data_cars_car && pnpm update_cars_data_cars_car && pnpm dev",
    "test_carcopy": "pnpm getOneXML_carcopy && pnpm update_cars_carcopy && pnpm dev",
    "test_maxposter": "pnpm getOneXML_maxposter && pnpm update_cars_maxposter && pnpm dev",
    "test_vehicles": "pnpm getOneXML_vehicles_vehicle && pnpm update_cars_vehicles && pnpm dev",
    "dev": "astro dev --open --host --config astro.local.config.mjs",
    "dd": "pnpm download_json && pnpm dev",
    "ddw": "powershell -Command \"pnpm download_json_win; pnpm dev\"",
    "linkinator": "astro dev --port 4343 & sleep 5 && npx linkinator http://localhost:4343 --recurse --format CSV  > linkinator.csv",
    "lighthouse": "astro build && astro preview --port 4343 & sleep 5 && npx lighthouse http://localhost:4343 --output=json --output-path=./lighthouse-report-$(date +%Y-%m-%d-%H-%M-%S).json",
    "start": "cp .env.example .env",
    "build_local": "astro build --config astro.local.config.mjs",
    "build": "astro build",
    "preview": "astro preview --open --host",
    "download_json": "JSON_PATH=$(cat .env | grep JSON_PATH= | cut -d '=' -f 2) && folder_name=$(node -e \"console.log(require('path').basename(process.cwd()))\") && echo \"Using JSON_PATH: $JSON_PATH\" && echo \"Using folder_name: $folder_name\" && mkdir -p src/data && for file in banners.json cars.json models.json salons.json scripts.json seo.json services.json socials.json special-services.json faq.json reviews.json models-sections.yml; do if curl --output /dev/null --silent --fail -r 0-0 $JSON_PATH/$folder_name/data/$file; then curl $JSON_PATH/$folder_name/data/$file -o src/data/$file; fi; done && node .github/scripts/replacePlaceholdersInJson.js",
    "download_json_win": "powershell -Command \"$jsonPath = (Get-Content .env | Select-String 'JSON_PATH=').ToString().Split('=')[1]; $folderName = node -e \\\"console.log(require('path').basename(process.cwd()))\\\"; Write-Host \\\"Using JSON_PATH: $jsonPath\\\"; Write-Host \\\"Using folder_name: $folderName\\\"; $dir = 'src/data'; if (-Not (Test-Path $dir)) { New-Item -ItemType Directory -Path $dir }; $files = @('banners.json', 'cars.json', 'models.json', 'salons.json', 'scripts.json', 'seo.json', 'services.json', 'socials.json', 'special-services.json', 'faq.json', 'reviews.json', 'models-sections.yml'); foreach ($file in $files) { $url = \\\"$jsonPath/$folderName/data/$file\\\"; $output = \\\"src/data/$file\\\"; $response = Invoke-WebRequest -Uri $url -Method Head -ErrorAction SilentlyContinue; if ($response.StatusCode -eq 200) { Write-Host \\\"Downloading $url\\\"; Invoke-WebRequest -Uri $url -OutFile $output } else { Write-Host \\\"File $url does not exist on server. Skipping download.\\\" } }\"; node .github/scripts/replacePlaceholdersInJson.js",
    "astro": "astro"
  },
  "dependencies": {
    "@alexsab-ru/scripts": "^0.11.0",
    "@astrojs/alpinejs": "^0.4.1",
    "@astrojs/mdx": "^4.0.3",
    "@astrojs/react": "^4.1.2",
    "@astrojs/sitemap": "^3.2.1",
    "@astrojs/tailwind": "^5.1.4",
    "@hookform/resolvers": "^3.9.1",
    "@iconify-json/mdi": "^1.2.2",
    "@types/alpinejs": "^3.13.11",
    "@types/react": "^19.0.2",
    "@types/react-dom": "^19.0.2",
    "alpinejs": "^3.14.8",
    "astro": "^5.1.1",
    "astro-icon": "^1.1.4",
    "astro-robots": "^2.3.1",
    "axios": "^1.7.9",
    "csv-parse": "^5.6.0",
    "glightbox": "^3.3.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "react-hook-form": "^7.54.2",
    "swiper": "^11.1.15",
    "tailwindcss": "^3.4.17",
    "yup": "^1.6.1",
    "zustand": "5.0.2"
  },
  "devDependencies": {
    "@rollup/plugin-yaml": "^4.1.2",
    "sass": "^1.83.0"
  }
}