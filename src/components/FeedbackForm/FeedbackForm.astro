---
import Form from './Form.astro';

interface Props{
  title?: string;
  subtitle?: string;
  imageUrl?: string;
  dataFormName?: string;
  showModelSelect?: boolean;
}

const defaultTitle = 'Узнать подробнее';
const defaultDataFormName = 'Форма обратной связи на странице';

const {
  title = defaultTitle,
  subtitle = '',
  imageUrl = '',
  dataFormName = defaultDataFormName,
  showModelSelect = false,
} = Astro.props;
---
{imageUrl.length ? (
  <div class="flex flex-col lg:flex-row lg:gap-10 lg:items-center lg:justify-center">
    <div class="lazy !hidden lg:!flex justify-center lg:w-1/2">
      <img src="https://cdn.alexsab.ru/loaders/simple-loading-gray.svg" data-src={imageUrl} alt={title} class="w-full h-auto" loading="lazy" width="748" height="323" />
    </div>
    <div>
      {title.length ? (<h3 class="text-center font-bold !text-3xl sm:!text-4xl !mb-8">{title}</h3>): null }
      {subtitle.length ? (<p class="text-center">{subtitle}</p>) : ('')}
      <Form dataFormName={title.length && title !== defaultTitle ? title : dataFormName} showModelSelect={showModelSelect} />
    </div>
  </div>
) : (
  <>
    {title.length ? (<h3 class="text-center font-bold !text-3xl sm:!text-4xl !mb-8">{title}</h3>): null }
    {subtitle.length ? (<p class="text-center mb-8">{subtitle}</p>) : ('')}
    <Form dataFormName={title.length && title !== defaultTitle ? title : dataFormName} showModelSelect={showModelSelect} />
  </>
)}
