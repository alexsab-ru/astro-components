---
import Layout from '@/layouts/Layout.astro';
import Banner from '@/components/Banner/Banner.astro';
import Contacts from '@/components/Contacts.astro';
import OnlineCalculation from '@/components/OnlineCalculation/OnlineCalculation.astro';
import SeoText from '@/components/Seo/Index.astro';
import Button from '@/components/Button/Button.astro';
import AdvantagesItem from '@/components/Advantages/Item.astro';

const infoItems = [
	// Эти SVG используют fill="currentColor", поэтому для цвета нужен text-* (свойство color), а не fill-*.
	{ iconName: "warranty", url: "#common-modal", title: "Гарантия на все виды выполненных кузовных работ", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "coffee-cup", url: "#common-modal", title: "Для всех клиентов комфортный отдых и уютное кафе", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	// { iconName: "children", url: "#common-modal", title: "В клиентской зоне оборудована детская комната", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "certified", url: "#common-modal", title: "Сертифицированные специалисты", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "technical-support", url: "#common-modal", title: "Всегда можно присутствовать при ремонте авто", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "quality-control", url: "#common-modal", title: "100% оригинальные запчасти", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "repair", url: "#common-modal", title: "Все работы выполняются на самом современном оборудовании", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	{ iconName: "stock", url: "#common-modal", title: "Четкое объяснение стоимости работ", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
	// { iconName: "taxi", url: "#common-modal", title: "Бесплатное такси", iconClass: "text-accent-500 w-20 h-auto max-w-[400px]:w-14", titleClass: "max-w-[400px]:text-xs text-center" },
];

const services = [
	{
		title: "Кузовные работы",
		items: [
			{ name: "Выпрямление вмятин без покраски", price: 4000, priceFrom: true },
			{ name: "Полировка кузова", price: 16000, priceFrom: true },
			{ name: "Замена лобового стекла", price: 6000, priceFrom: true },
			{ name: "Окраска среднего элемента кузова (бампер, крыло, дверь)", price: 16000, priceFrom: true },
			{ name: "Покрытие керамикой", price: 20000, priceFrom: true },
			{ name: "Полировка фар", price: 2000, priceFrom: true },
			{ name: "Восстановление геометрии кузова", price: 20000, priceFrom: true },
			{ name: "Локальная окраска элемента кузова", price: 6000, priceFrom: true },
		],
	},
];

---

<Layout title=`Кузовные работы в Самаре` description=`Первый официальный кузовной по&nbsp;автомобилям из&nbsp;Китая`>
	<Banner />
	<OnlineCalculation />

	<section id="advantages">
		<div class="container">
			<h2 class="mb-8">Выгоднее, чем в гараже!</h2>
			<p class="uppercase text-xl text-center mb-14">Преимущества нашего сервисного центра:</p>

			<div class="flex justify-center flex-wrap gap-y-10">
				{infoItems.map(item => ( 
						<AdvantagesItem 
							item={item}
							classes="max-w-[550px]:w-1/2 w-1/3 md:w-1/4 lg:w-1/5 flex flex-col gap-5 max-w-[400px]:gap-2 items-center max-w-[400px]:px-2 px-3 xl:px-5"
							data-title="Получить спецпредложение"
							data-form_name={`Получить спецпредложение. ${item.title.replace(/<[^>]*>/g, '')}`}
						/> 
					)
				)}
			</div>
		</div>
	</section>

	{
		services.length ? (
			<section class="section bg-gray-100 relative z-10" id="services" >
				<div class="container">
					<h2 class="mb-14">Все услуги</h2>
					
				{services.map((service) => 
					service.items.length ? (
					<h3 class="mb-6 text-2xl text-center">{service.title}</h3>
					<div class="grid md:grid-cols-2 max-[500px]:gap-4 gap-5">
						{service.items.map((item) => 
						<div class="shadow-xl p-4 bg-white flex max-[500px]:flex-col max-md:flex-row max-lg:flex-col items-center max-[500px]:gap-4 gap-5">
							<h4 class="grow font-extrabold lg:font-light xl:text-lg">{item.name}</h4>
							<div class="flex items-center flex-nowrap max-[500px]:flex-col max-[500px]:gap-3 gap-4 xl:gap-8">
								<div class="text-red-500 flex items-end gap-1.5">
									{item.priceFrom ? (
										<small class="text-base leading-none! mb-0.5 sm:mb-1">от</small>
									) : ("")}
									<span class="text-2xl sm:text-3xl font-bold leading-none!">{item.price.toLocaleString("ru-RU", { style: "currency", currency: "RUB", maximumSignificantDigits: 3 })}</span>
								</div>
								<Button 
									classes="popup-link max-[500px]:text-sm max-[500px]:!px-2 max-[500px]:!py-1 !px-4 !py-2" 
									url="#common-modal" 
									title="Записаться"
									dataTitle={`Запись на <span class="lowercase">${service.title}</span><div class="text-xl font-extrabold">${item.name}</div>`}
									dataFormName={`Запись на ${service.title} - ${item.name}`}
								/>
							</div>
						</div>
						)}
					</div>
					) : ("")
				)}
				</div>
			</section>
		) : ("")
	}

	<SeoText mdx="index" />

	<Contacts mapImg="https://cdn.alexsab.ru/maps/map-bg.webp" title="Наши контакты" />

</Layout>
