---
import Layout from '@/layouts/Layout.astro';
import Map from '@/components/Map/Map.astro';
import InfoItem from '@/components/Contacts/InfoItem.astro';
import {BASE_URL, SITE_URL, SITE_NAME, LEGAL_ENTITY, LEGAL_INN} from '@/const';
const salons = await fetch(`${BASE_URL}${SITE_URL}/data/salons.json`).then((response) => response.json());
const salon = salons[0]; //временно, наверное

---

<Layout title={`Контакты автосалона ${SITE_NAME}`}>
	<div class="h-full">
		<div class="container">
			<div class="flex flex-col md:flex-row pb-[400px] md:pb-0">

				<div class="md:w-2/5 py-10">
					<h1 class="text-3xl sm:text-4xl font-bold">Контакты</h1>
					<div class="flex flex-wrap gap-y-5 sm:gap-y-8 mt-10">

						{LEGAL_ENTITY && (<InfoItem class="w-full flex items-center gap-2.5" label="Юридическое лицо" value={LEGAL_ENTITY} iconName="mdi:bank" />)}
						{LEGAL_INN && (<InfoItem class="w-full flex items-center gap-2.5" label="ИНН" value={LEGAL_INN} iconName="mdi:list-box-outline" />)}
						{salon?.address && (<InfoItem class="w-full flex items-center gap-2.5" label="Адрес" value={salon?.address} iconName="mdi:map-marker-outline" />)}
						{salon?.phone && (<InfoItem class="w-full flex items-center gap-2.5" label="Телефон" value={salon?.phone} iconName="mdi:cellphone" type="phone"/>)}
						{salon?.work_hours && (<InfoItem class="w-full flex items-center gap-2.5" label="Режим работы" value={salon?.work_hours} iconName="mdi:clock-time-three-outline" />)}
					</div>
				</div>

				<div class="h-[400px] md:h-auto w-full md:w-1/2 absolute md:top-0 right-0 bottom-0">
					<Map mapImg="/img/map-bg.webp" salons={salons} class="h-full" />
				</div>

			</div>
		</div>
	</div>
</Layout>